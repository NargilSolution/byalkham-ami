<mat-table [dataSource]="dataSource">

  <ng-container matColumnDef="face">
    <mat-header-cell *matHeaderCellDef></mat-header-cell>
    <mat-cell *matCellDef="let element">
      <img [src]="element.faceURL ? element.faceURL : 'assets/portrait_thumb.jpg'" alt="зураг">
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="order">
    <mat-header-cell *matHeaderCellDef>Байр</mat-header-cell>
    <mat-cell *matCellDef="let element">{{ element.order }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef>Оролцогч</mat-header-cell>
    <mat-cell *matCellDef="let element" (click)="showProfilePhoto(element)">
      <span [ngClass]="element.photoURL ? 'blue-text' : ''">{{ element.lastName.substring(0,1) + '.' +element.firstName }}</span>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="number">
    <mat-header-cell *matHeaderCellDef>Номер</mat-header-cell>
    <mat-cell *matCellDef="let element">{{ element.raceNumber }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="distance">
    <mat-header-cell *matHeaderCellDef>Зай</mat-header-cell>
    <mat-cell *matCellDef="let element">{{ element.distance }} км</mat-cell>
  </ng-container>

  <ng-container matColumnDef="time">
    <mat-header-cell *matHeaderCellDef>Цаг</mat-header-cell>
    <mat-cell *matCellDef="let element">
      {{ Math.floor(element.time / 60) }}'
      {{ Math.floor(element.time % 60) }}"
      {{ Math.round(element.time % 1 * 100) }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="action">
    <mat-header-cell *matHeaderCellDef class="align-right"></mat-header-cell>
    <mat-cell *matCellDef="let element" class="align-right">
      <button mat-icon-button [matMenuTriggerFor]="userMenu"><mat-icon>more_vert</mat-icon></button>
      <mat-menu #userMenu="matMenu">
        <button mat-menu-item (click)="showPortraitDialog(element)">Зураг</button>
        <button mat-menu-item (click)="showEditDialog(element)">Засах</button>
      </mat-menu>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="columns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: columns;"></mat-row>
</mat-table>
